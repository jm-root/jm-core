!function e(t,r,n){function s(o,a){if(!r[o]){if(!t[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var l=r[o]={exports:{}};t[o][0].call(l.exports,function(e){var r=t[o][1][e];return s(r?r:e)},l,l.exports,e,t,r,n)}return r[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"aop";return e[t]={_Arguments:function(e){this.value=[].slice.call(e)},arguments:function(){return new this._Arguments(arguments)},inject:function(e,t,r){var n=this;return function(){var s,i=!1,o=[].slice.call(arguments);return"function"==typeof t&&(s=t.apply(this,o),s instanceof n._Arguments?o=s.value:(i=void 0!==s)&&o.push(s)),!i&&o.push(e.apply(this,o)),s="function"==typeof r?r.apply(this,o.concat(i)):void 0,void 0!==s?s:o.pop()}}},{name:t,unuse:function(e){delete e[t]}}},t.exports=r.default},{}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;r.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Class";return e[t]=function(){},e[t].extend=function(r){function s(){this._className&&Object.defineProperty(this,"className",{value:this._className,writable:!1}),this.ctor&&this.ctor.apply(this,arguments)}var i=this.prototype,o=Object.create(i);for(var a in r)"properties"!=a&&(o[a]="function"==typeof r[a]&&"function"==typeof i[a]&&n.test(r[a])?function(e,t){return function(){var r=this._super;this._super=i[e];var n=t.apply(this,arguments);return this._super=r,n}}(a,r[a]):r[a]);var u=r.properties;for(var l in u){var f=u[l];f.get&&"string"==typeof f.get&&(f.get=o[f.get]),f.set&&"string"==typeof f.set&&(f.set=o[f.set]),Object.defineProperty(o,l,f)}return s.prototype=o,s.prototype.constructor=s,s.extend=e[t].extend,s},{name:t,unuse:function(e){delete e[t]}}},t.exports=r.default},{}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ERR";return e[t]={SUCCESS:{err:0,msg:"Success"},FAIL:{err:1,msg:"Fail"},FA_SYS:{err:2,msg:"System Error"},FA_NETWORK:{err:3,msg:"Network Error"},FA_PARAMS:{err:4,msg:"Parameter Error"},FA_BUSY:{err:5,msg:"Busy"},FA_TIMEOUT:{err:6,msg:"Time Out"},FA_ABORT:{err:7,msg:"Abort"},FA_NOTREADY:{err:8,msg:"Not Ready"},OK:{err:200,msg:"OK"},FA_BADREQUEST:{err:400,msg:"Bad Request"},FA_NOAUTH:{err:401,msg:"Unauthorized"},FA_NOPERMISSION:{err:403,msg:"Forbidden"},FA_NOTFOUND:{err:404,msg:"Not Found"},FA_INTERNALERROR:{err:500,msg:"Internal Server Error"},FA_UNAVAILABLE:{err:503,msg:"Service Unavailable"}},{name:t,unuse:function(e){delete e[t]}}},t.exports=r.default},{}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"event";e.EventEmitter=e.Object.extend({_className:"eventEmitter",ctor:function(){this._events={},this.addListener=this.on},__createListener:function(e,t){return t=t,{fn:e,caller:t}},__equalsListener:function(e,t){return e.fn===t.fn&&e.caller===t.caller},on:function(e,t,r){var n=this.__createListener(t,r);return this._events[e]?Array.isArray(this._events[e])?this._events[e].push(n):this._events[e]=[this._events[e],n]:this._events[e]=n,this},once:function(e,t,r){var n=this,s=this.__createListener(t,r),i=function r(i,o,a,u,l){n.removeListener(e,r),t.call(s.caller,i,o,a,u,l)};return i.listener=s,this.on(e,i),this},removeListener:function(e,t,r){var n=this.__createListener(t,r);if(this._events&&this._events[e]){var s=this._events[e];if(Array.isArray(s)){for(var i=-1,o=0,a=s.length;o<a;o++){var u=s[o];if(this.__equalsListener(u,n)||u.listener&&this.__equalsListener(u.listener,n)){i=o;break}}if(i<0)return this;s.splice(i,1),s.length||delete this._events[e]}else(this.__equalsListener(s,n)||s.listener&&this.__equalsListener(s.listener,n))&&delete this._events[e]}return this},removeAllListeners:function(e){return void 0===e?(this._events={},this):(this._events&&this._events[e]&&(this._events[e]=null),this)},listeners:function(e){return this._events[e]||(this._events[e]=[]),Array.isArray(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},emit:function(e,t,r,s,i,o){var a=this._events[e];if(!a)return this;if("object"!==(void 0===a?"undefined":n(a))||Array.isArray(a)){if(Array.isArray(a)){for(var u=new Array(a.length),l=0;l<a.length;l++)u[l]=a[l];for(var f=0,c=u.length;f<c;f++){var d=u[f];if(d.fn.call(d.caller||this,t,r,s,i,o)===!1)break}}}else a.fn.call(a.caller||this,t,r,s,i,o);return this}}),e.eventEmitter=function(){return new e.EventEmitter};var r=e.EventEmitter.prototype,s={_events:{},__createListener:r.__createListener,__equalsListener:r.__equalsListener,on:r.on,once:r.once,addListener:r.on,removeListener:r.removeListener,removeAllListeners:r.removeAllListeners,listeners:r.listeners,emit:r.emit},i=s;return e.enableEvent=function(e){if(void 0===e._events){for(var t in i)e[t]=i[t];return e._events={},this}},e.disableEvent=function(e){for(var t in i)delete e[t];return this},{name:t,unuse:function(e){delete e.EventEmitter,delete e.eventEmitter,delete e.enableEvent,delete e.disableEvent}}},t.exports=r.default},{}],5:[function(e,t,r){(function(n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("./root"),o=s(i),a=e("./logger"),u=s(a),l=e("./err"),f=s(l),c=e("./aop"),d=s(c),v=e("./utils"),h=s(v),g=e("./class"),m=s(g),_=e("./object"),y=s(_),p=e("./random"),b=s(p),A=e("./event"),T=s(A),O=e("./tag"),j=s(O),E=function(){var e=(0,o.default)().use(u.default).use(f.default).use(d.default).use(h.default).use(m.default).use(y.default).use(b.default).use(T.default).use(j.default);return e.enableEvent(e),e};void 0!==n&&n&&(n.jm=E()),r.default=E,t.exports=r.default}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./aop":1,"./class":2,"./err":3,"./event":4,"./logger":6,"./object":7,"./random":8,"./root":9,"./tag":10,"./utils":11}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){return console.debug||(console.debug=console.log),console};r.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"logger";return e.getLogger=n,e.logger=n(),{name:t,unuse:function(e){delete e.logger,delete e.getLogger}}},t.exports=r.default},{}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"object";return e.Object=e.Class.extend({_className:"object",attr:function(e){for(var t in e)"className"!==t&&(this[t]=e[t])}}),e.object=function(){return new e.Object},{name:t,unuse:function(e){delete e.Object,delete e.object}}},t.exports=r.default},{}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"random";return e.Random=e.Class.extend({_className:"random",properties:{seed:{get:"getSeed",set:"setSeed"}},ctor:function(e){e=e||{},this.g_seed=0,this.randomMax=e.randomMax||2e11},setSeed:function(e){this.g_seed=e},getSeed:function(){return this.g_seed},random:function(){return this.g_seed=(9301*this.g_seed+49297)%233280,this.g_seed/233280},randomInt:function(e,t){void 0===t&&(t=e,e=0);var r=e+this.random()*(t-e);return Math.round(r)},randomDouble:function(e,t){return void 0===t&&(t=e,e=0),e+this.random()*(t-e)},randomRange:function(e){return this.randomInt(0,this.randomMax)%e},randomOdds:function(e,t){return this.randomRange(e)<t?1:0}}),e.random=function(t){return new e.Random(t)},{name:t,unuse:function(e){delete e.Random,delete e.random}}},t.exports=r.default},{}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e,t,r){var n=t(e,r);return n&&n.name&&(e.root.modules[n.name]=n,e.logger&&e.logger.info("use "+n.name)),n};r.default=function(){return{root:{modules:{},registries:{}},use:function(e,t){var r=e;return"string"==typeof r||"function"==typeof r&&n(this,r,t),this},unuse:function(e){var t=e;return"string"==typeof t&&(t=this.root.modules[t]),t&&(t.name&&delete this.root.modules[t.name],t.unuse&&t.unuse(this)),this}}},t.exports=r.default},{}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tag";e.TagObject=e.EventEmitter.extend({_className:"tagObject",ctor:function(){this._super(),this._tags=[],Object.defineProperty(this,"tags",{value:this._tags,writable:!1})},destroy:function(){this.emit("destroy",this),this.removeAllTags()},hasTag:function(e){return this._tags.indexOf(e)!=-1},hasTagAny:function(e){var t=!0,r=!1,n=void 0;try{for(var s,i=e[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var o=s.value;if(this.hasTag(o))return!0}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}return!1},hasTagAll:function(e){var t=!0,r=!1,n=void 0;try{for(var s,i=e[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var o=s.value;if(!this.hasTag(o))return!1}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}return!0},addTag:function(e){var t=this._tags;return this.hasTag(e)?this:(t.push(e),this.emit("addTag",e),this)},addTags:function(e){var t=!0,r=!1,n=void 0;try{for(var s,i=e[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var o=s.value;this.addTag(o)}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}return this},removeTag:function(e){var t=this._tags,r=t.indexOf(e);return r>=0&&t.splice(r,1),this.emit("removeTag",e),this},removeTags:function(e){var t=!0,r=!1,n=void 0;try{for(var s,i=e[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var o=s.value;this.removeTag(o)}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}return this},removeAllTags:function(){var e=this._tags,t=!0,r=!1,n=void 0;try{for(var s,i=e[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var o=s.value;this.emit("removeTag",o)}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}return this._tags=[],this.emit("removeAllTags"),this}}),e.tagObject=function(){return new e.TagObject};var r=e.TagObject.prototype,n={_tags:[],hasTag:r.hasTag,hasTagAny:r.hasTagAny,hasTagAll:r.hasTagAll,addTag:r.addTag,addTags:r.addTags,removeTag:r.removeTag,removeTags:r.removeTags,removeAllTags:r.removeAllTags};return e.enableTag=function(t){if(void 0==t._tags){for(var r in n)t[r]=n[r];t._tags=[],Object.defineProperty(t,"tags",{value:t._tags,writable:!1}),e.enableEvent(t)}},e.disableTag=function(t){for(var r in n)delete t[r];e.disableEvent(t)},{name:t,unuse:function(e){delete e.TagObject,delete e.tagObject,delete e.enableTag,delete e.disableTag}}},t.exports=r.default},{}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utils";return e[t]={slice:function(e,t,r){t=t||0,r=r||e.length,t<0&&(t+=e.length),r<0&&(r+=e.length);for(var n=new Array(r-t),s=t;s<r;s++)n[s-t]=e[s];return n},formatJSON:function(e){return JSON.stringify(e,null,2)}},{name:t,unuse:function(e){delete e[t]}}},t.exports=r.default},{}]},{},[5]);