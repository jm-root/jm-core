var jm=jm||{};"undefined"!=typeof exports&&"undefined"!=typeof module&&(module.exports=jm),function(){var e={},t={};e.registries=t,jm.root=e}();var jm=jm||{};"undefined"!=typeof exports&&"undefined"!=typeof module&&(jm=require("./root.js")),function(){jm.ERR={SUCCESS:{err:0,msg:"Success"},FAIL:{err:1,msg:"Fail"},FA_SYS:{err:2,msg:"System Error"},FA_NETWORK:{err:3,msg:"Network Error"},FA_PARAMS:{err:4,msg:"Parameter Error"},FA_BUSY:{err:5,msg:"Busy"},FA_TIMEOUT:{err:6,msg:"Time Out"},FA_ABORT:{err:7,msg:"Abort"},OK:{err:200,msg:"OK"},FA_BADREQUEST:{err:400,msg:"Bad Request"},FA_NOAUTH:{err:401,msg:"Unauthorized"},FA_NOPERMISSION:{err:403,msg:"Forbidden"},FA_NOTFOUND:{err:404,msg:"Not Found"},FA_INTERNALERROR:{err:500,msg:"Internal Server Error"},FA_UNAVAILABLE:{err:503,msg:"Service Unavailable"}}}();var jm=jm||{};"undefined"!=typeof exports&&"undefined"!=typeof module&&(jm=require("./root.js")),function(){if("undefined"!=typeof exports&&"undefined"!=typeof module){var e=require("log4js");jm.getLogger=function(t){return e.getLogger(t)}}else jm.getLogger=function(e){return console.debug=console.debug||console.log,console};jm.logger=jm.getLogger()}();var jm=jm||{};"undefined"!=typeof exports&&"undefined"!=typeof module&&(jm=require("./root.js")),function(){jm.aop={_Arguments:function(e){this.value=[].slice.call(e)},arguments:function(){return new this._Arguments(arguments)},inject:function(e,t,r){var n=this;return function(){var s,i=!1,o=[].slice.call(arguments);return"function"==typeof t&&(s=t.apply(this,o),s instanceof n._Arguments?o=s.value:(i=void 0!==s)&&o.push(s)),!i&&o.push(e.apply(this,o)),s="function"==typeof r?r.apply(this,o.concat(i)):void 0,void 0!==s?s:o.pop()}}}}();var jm=jm||{};"undefined"!=typeof exports&&"undefined"!=typeof module&&(jm=require("./root.js")),function(){var e=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;jm.Class=function(){},jm.Class.extend=function(t){function r(){this._className&&Object.defineProperty(this,"className",{value:this._className,writable:!1}),this.ctor&&this.ctor.apply(this,arguments)}var n=this.prototype,s=Object.create(n);for(var i in t)"properties"!=i&&(s[i]="function"==typeof t[i]&&"function"==typeof n[i]&&e.test(t[i])?function(e,t){return function(){var r=this._super;this._super=n[e];var s=t.apply(this,arguments);return this._super=r,s}}(i,t[i]):t[i]);var o=t.properties;for(var a in o){var u=o[a];u.get&&"string"==typeof u.get&&(u.get=s[u.get]),u.set&&"string"==typeof u.set&&(u.set=s[u.set]),Object.defineProperty(s,a,u)}return r.prototype=s,r.prototype.constructor=r,r.extend=jm.Class.extend,r}}();var jm=jm||{};"undefined"!=typeof exports&&"undefined"!=typeof module&&(jm=require("./root.js")),function(){jm.Object=jm.Class.extend({_className:"object",attr:function(e){for(var t in e)"className"!==t&&(this[t]=e[t])}}),jm.object=function(){return new jm.Object}}();var jm=jm||{};"undefined"!=typeof exports&&"undefined"!=typeof module&&(jm=require("./root.js")),function(){var e=2e11;jm.Random=jm.Class.extend({_className:"random",properties:{seed:{get:"getSeed",set:"setSeed"}},ctor:function(t){t=t||{},this.g_seed=0,this.randomMax=t.randomMax||e},setSeed:function(e){this.g_seed=e},getSeed:function(){return this.g_seed},random:function(){return this.g_seed=(9301*this.g_seed+49297)%233280,this.g_seed/233280},randomInt:function(e,t){1===arguments.length&&(t=e,e=0);var r=e+this.random()*(t-e);return Math.round(r)},randomDouble:function(e,t){1===arguments.length&&(t=e,e=0);var r=e+this.random()*(t-e);return r},randomRange:function(e){return this.randomInt(0,this.randomMax)%e},randomOdds:function(e,t){return this.randomRange(e)<t?1:0}}),jm.random=function(e){return new jm.Random(e)}}();var jm=jm||{};"undefined"!=typeof exports&&"undefined"!=typeof module&&(jm=require("./root.js")),function(){jm.EventEmitter=jm.Object.extend({_className:"eventEmitter",ctor:function(){this._events={},this.addListener=this.on},__createListener:function(e,t){return t=t,{fn:e,caller:t}},__equalsListener:function(e,t){return e.fn===t.fn&&e.caller===t.caller},on:function(e,t,r){var n=this.__createListener(t,r);return this._events[e]?Array.isArray(this._events[e])?this._events[e].push(n):this._events[e]=[this._events[e],n]:this._events[e]=n,this},once:function(e,t,r){function n(){s.removeListener(e,n),t.apply(i.caller,arguments)}var s=this,i=this.__createListener(t,r);return n.listener=i,this.on(e,n),this},removeListener:function(e,t,r){var n=this.__createListener(t,r);if(this._events&&this._events[e]){var s=this._events[e];if(Array.isArray(s)){for(var i=-1,o=0,a=s.length;a>o;o++){var u=s[o];if(this.__equalsListener(u,n)||u.listener&&this.__equalsListener(u.listener,n)){i=o;break}}if(0>i)return this;s.splice(i,1),s.length||delete this._events[e]}else(this.__equalsListener(s,n)||s.listener&&this.__equalsListener(s.listener,n))&&delete this._events[e]}return this},removeAllListeners:function(e){return void 0===e?(this._events={},this):(this._events&&this._events[e]&&(this._events[e]=null),this)},listeners:function(e){return this._events[e]||(this._events[e]=[]),Array.isArray(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},emit:function(e){var t=this._events[e];if(!t)return!1;var r=Array.prototype.slice.call(arguments,1);if("object"!=typeof t||Array.isArray(t)){if(!Array.isArray(t))return!1;for(var n=t.slice(),s=0,i=n.length;i>s;s++){var o=n[s];if(o.fn.apply(o.caller||this,r)===!1)break}}else t.fn.apply(t.caller||this,r);return!0}}),jm.eventEmitter=function(){return new jm.EventEmitter};var e=jm.EventEmitter.prototype,t={_events:{},__createListener:e.__createListener,__equalsListener:e.__equalsListener,on:e.on,once:e.once,addListener:e.on,removeListener:e.removeListener,removeAllListeners:e.removeAllListeners,listeners:e.listeners,emit:e.emit},r=t;jm.enableEvent=function(e){if(void 0===e._events){for(var t in r)e[t]=r[t];e._events={}}},jm.disableEvent=function(e){for(var t in r)delete e[t]}}();var jm=jm||{};"undefined"!=typeof exports&&"undefined"!=typeof module&&(jm=require("./root.js")),function(){jm.TagObject=jm.EventEmitter.extend({_className:"tagObject",ctor:function(){this._super(),this._tags=[],Object.defineProperty(this,"tags",{value:this._tags,writable:!1})},destroy:function(){this.emit("destroy",this),this.removeAllTags()},hasTag:function(e){var t=this._tags;return-1!=t.indexOf(e)},hasTagAny:function(e){for(var t in e){var r=e[t];if(this.hasTag(r))return!0}return!1},hasTagAll:function(e){for(var t in e){var r=e[t];if(!this.hasTag(r))return!1}return!0},addTag:function(e){var t=this._tags;return this.hasTag(e)?this:(t.push(e),this.emit("addTag",e),this)},addTags:function(e){for(var t in e){var r=e[t];this.addTag(r)}return this},removeTag:function(e){var t=this._tags,r=t.indexOf(e);return r>=0&&t.splice(r,1),this.emit("removeTag",e),this},removeTags:function(e){for(var t in e){var r=e[t];this.removeTag(r)}return this},removeAllTags:function(){var e=this._tags;for(i in e)this.emit("removeTag",e[i]);return this._tags=[],this.emit("removeAllTags"),this}}),jm.tagObject=function(){return new jm.TagObject};var e=jm.TagObject.prototype,t={_tags:[],hasTag:e.hasTag,hasTagAny:e.hasTagAny,hasTagAll:e.hasTagAll,addTag:e.addTag,addTags:e.addTags,removeTag:e.removeTag,removeTags:e.removeTags,removeAllTags:e.removeAllTags};jm.enableTag=function(e){if(void 0==e._tags){for(key in t)e[key]=t[key];e._tags=[],Object.defineProperty(e,"tags",{value:e._tags,writable:!1}),jm.enableEvent(e)}},jm.disableTag=function(e){for(key in t)delete e[key];jm.disableEvent(e)}}();