!function e(t,r,n){function o(u,i){if(!r[u]){if(!t[u]){var l="function"==typeof require&&require;if(!i&&l)return l(u,!0);if(a)return a(u,!0);throw new Error("Cannot find module '"+u+"'")}var s=r[u]={exports:{}};t[u][0].call(s.exports,function(e){var r=t[u][1][e];return o(r||e)},s,s.exports,e,t,r,n)}return r[u].exports}for(var a="function"==typeof require&&require,u=0;u<n.length;u++)o(n[u]);return o}({1:[function(e,t,r){(function(n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var l=o(e("./root")),s=o(e("jm-event")),f=e("./logger"),c=e("./utils"),d=e("./random"),v=o(e("./tag")),y=function(e){function t(){a(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.global={},e.use(s.default.moduleEvent).use(f.moduleLogger).use(c.moduleUtils).use(d.moduleRandom).use(v.default.moduleTag),e}return i(t,e),t}(l.default);void 0!==n&&n&&(!n.jm&&(n.jm=new y),!n.JM&&(n.JM=y)),r.default=y,t.exports=r.default}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./logger":2,"./random":3,"./root":4,"./tag":5,"./utils":6,"jm-event":9}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){return console.debug||(console.debug=console.log),console},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"logger";return e.getLogger=n,e.logger=n(),{name:t,unuse:function(e){delete e.logger,delete e.getLogger}}};r.default=n,r.getLogger=n,r.moduleLogger=o},{}],3:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=2e11,u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.seed=t.seed||Date.now(),this.randomMax=t.randomMax||a}return o(e,[{key:"random",value:function(){return this.seed=(9301*this.seed+49297)%233280,this.seed/233280}},{key:"randomInt",value:function(e,t){void 0===t&&(t=e,e=0);var r=e+this.random()*(t-e);return Math.round(r)}},{key:"randomDouble",value:function(e,t){return void 0===t&&(t=e,e=0),e+this.random()*(t-e)}},{key:"randomRange",value:function(e){return this.randomInt(0,this.randomMax)%e}},{key:"randomOdds",value:function(e,t){return this.randomRange(e)<t?1:0}}]),e}(),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"random";return e.random=function(e){return new u(e)},{name:t,unuse:function(e){delete e.random}}};r.default=u,r.Random=u,r.moduleRandom=i},{}],4:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=n(e("jm-err")),u=n(e("jm-module")),i=function e(){o(this,e),a.default.enableErr(this),u.default.enableModule(this),this.enableModule=u.default.enableModule,this.disableModule=u.default.disableModule};r.default=i,t.exports=r.default},{"jm-err":8,"jm-module":10}],5:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(e("jm-event")),l=i.default.EventEmitter,s=i.default.enableEvent,f=i.default.disableEvent,c=function(e){function t(){n(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._tags=[],Object.defineProperty(e,"tags",{value:e._tags,writable:!1}),e}return a(t,e),u(t,[{key:"destroy",value:function(){this.emit("destroy",this),this.removeAllTags()}},{key:"hasTag",value:function(e){return-1!=this._tags.indexOf(e)}},{key:"hasTagAny",value:function(e){var t=!0,r=!1,n=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;if(this.hasTag(u))return!0}}catch(e){r=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw n}}return!1}},{key:"hasTagAll",value:function(e){var t=!0,r=!1,n=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;if(!this.hasTag(u))return!1}}catch(e){r=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw n}}return!0}},{key:"addTag",value:function(e){var t=this._tags;return this.hasTag(e)?this:(t.push(e),this.emit("addTag",e),this)}},{key:"addTags",value:function(e){var t=!0,r=!1,n=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;this.addTag(u)}}catch(e){r=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw n}}return this}},{key:"removeTag",value:function(e){var t=this._tags,r=t.indexOf(e);return r>=0&&t.splice(r,1),this.emit("removeTag",e),this}},{key:"removeTags",value:function(e){var t=!0,r=!1,n=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;this.removeTag(u)}}catch(e){r=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw n}}return this}},{key:"removeAllTags",value:function(){var e=this._tags,t=!0,r=!1,n=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;this.emit("removeTag",u)}}catch(e){r=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw n}}return this._tags=[],this.emit("removeAllTags"),this}}]),t}(l),d=c.prototype,v={_tags:[],hasTag:d.hasTag,hasTagAny:d.hasTagAny,hasTagAll:d.hasTagAll,addTag:d.addTag,addTags:d.addTags,removeTag:d.removeTag,removeTags:d.removeTags,removeAllTags:d.removeAllTags},y=function(e){if(void 0!=e._tags)return!1;var t=!0,r=!1,n=void 0;try{for(var o,a=Object.keys(v)[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;e[u]=v[u]}}catch(e){r=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw n}}return e._tags=[],Object.defineProperty(e,"tags",{value:e._tags,writable:!1}),s(e),!0},h=function(e){var t=!0,r=!1,n=void 0;try{for(var o,a=Object.keys(v)[Symbol.iterator]();!(t=(o=a.next()).done);t=!0)delete e[o.value]}catch(e){r=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw n}}f(e)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tag";return e.enableTag=y,e.disableTag=h,{name:t,unuse:function(){delete e.enableTag,delete e.disableTag}}};r.default={TagObject:c,enableTag:y,disableTag:h,moduleTag:g},t.exports=r.default},{"jm-event":9}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={slice:function(e,t,r){t=t||0,r=r||e.length,t<0&&(t+=e.length),r<0&&(r+=e.length);for(var n=new Array(r-t),o=t;o<r;o++)n[o-t]=e[o];return n},formatJSON:function(e){return JSON.stringify(e,null,2)}},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utils";return e[t]=n,{name:t,unuse:function(e){delete e[t]}}};r.default=n,r.utils=n,r.moduleUtils=o},{}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={SUCCESS:{err:0,msg:"Success"},FAIL:{err:1,msg:"Fail"},FA_SYS:{err:2,msg:"System Error"},FA_NETWORK:{err:3,msg:"Network Error"},FA_PARAMS:{err:4,msg:"Parameter Error"},FA_BUSY:{err:5,msg:"Busy"},FA_TIMEOUT:{err:6,msg:"Time Out"},FA_ABORT:{err:7,msg:"Abort"},FA_NOTREADY:{err:8,msg:"Not Ready"},OK:{err:200,msg:"OK"},FA_BADREQUEST:{err:400,msg:"Bad Request"},FA_NOAUTH:{err:401,msg:"Unauthorized"},FA_NOPERMISSION:{err:403,msg:"Forbidden"},FA_NOTFOUND:{err:404,msg:"Not Found"},FA_INTERNALERROR:{err:500,msg:"Internal Server Error"},FA_UNAVAILABLE:{err:503,msg:"Service Unavailable"}},o=function(e,t){if(t){var r=!0,n=!1,o=void 0;try{for(var a,u=Object.keys(t)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var i=a.value;e=e.split("${"+i+"}").join(t[i])}}catch(e){n=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw o}}}return e},a=function(e,t){"string"==typeof e&&(e={msg:e});var r=o(e.msg,t),n=new Error(r);return e.err&&(n.code=e.err),n},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Err";return!e[t]&&(e[t]=n,e.err=a,e.errMsg=o,!0)},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Err";e[t]&&(delete e[t],delete e.err,delete e.errMsg)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Err";return u(e,t),{name:t,unuse:function(e){i(e,t)}}};r.default={Err:n,errMsg:o,err:a,enableErr:u,disableErr:i,moduleErr:l},t.exports=r.default},{}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(e("./err"));r.default=n.default,t.exports=r.default},{"./err":7}],9:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(){n(this,e),this._events={}}return o(e,[{key:"on",value:function(e,t,r){return this._events[e]||(this._events[e]=[]),r?this._events[e].unshift(t):this._events[e].push(t),this}},{key:"once",value:function(e,t,r){var n=this,o=function r(o,a,u,i,l){n.off(e,r),t(o,a,u,i,l)};return this.on(e,o,r)}},{key:"off",value:function(e,t){if(t){if(this._events&&this._events[e])for(var r=this._events[e],n=0;n<r.length;n++)if(t===r[n]){r.splice(n,1),r.length||delete this._events[e];break}}else void 0===e?this._events={}:this._events&&this._events[e]&&delete this._events[e];return this}},{key:"emit",value:function(e,t,r,n,o,a){for(var u=this.listeners(e),i=0;i<u.length&&!1!==(0,u[i])(t,r,n,o,a);i++);return this}},{key:"eventNames",value:function(){return Object.keys(this._events)}},{key:"listeners",value:function(e){var t=this._events[e];if(!t)return[];for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=t[n];return r}}]),e}(),u=a.prototype,i={_events:{},on:u.on,once:u.once,off:u.off,emit:u.emit,eventNames:u.eventNames,listeners:u.listeners},l=function(e){if(void 0!==e.emit)return!1;var t=!0,r=!1,n=void 0;try{for(var o,a=Object.keys(i)[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;e[u]=i[u]}}catch(e){r=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw n}}return e._events={},!0},s=function(e){if(void 0!==e.emit){var t=!0,r=!1,n=void 0;try{for(var o,a=Object.keys(i)[Symbol.iterator]();!(t=(o=a.next()).done);t=!0)delete e[o.value]}catch(e){r=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw n}}}},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"event";return e.enableEvent=l,e.disableEvent=s,{name:t,unuse:function(){delete e.enableEvent,delete e.disableEvent}}};r.default={EventEmitter:a,enableEvent:l,disableEvent:s,moduleEvent:f},t.exports=r.default},{}],10:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(){n(this,e),this._modules={}}return o(e,[{key:"use",value:function(e,t,r){var n=e(this,t,r);return n&&n.name&&(this._modules[n.name]=n),this}},{key:"unuse",value:function(e){var t=e;return"string"==typeof t&&(t=this._modules[t]),t&&t.unuse&&(t.name&&delete this._modules[t.name],t.unuse()),this}},{key:"modules",get:function(){return this._modules}}]),e}(),u=a.prototype,i={_modules:{},use:u.use,unuse:u.unuse},l=function(e){if(void 0!==e.use)return!1;var t=!0,r=!1,n=void 0;try{for(var o,a=Object.keys(i)[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;e[u]=i[u]}}catch(e){r=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw n}}return e._modules={},Object.defineProperty(e,"modules",{value:e._modules,writable:!1}),!0},s=function(e){if(void 0!==e.use){var t=!0,r=!1,n=void 0;try{for(var o,a=Object.keys(i)[Symbol.iterator]();!(t=(o=a.next()).done);t=!0)delete e[o.value]}catch(e){r=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw n}}}};r.default={Modulable:a,enableModule:l,disableModule:s},t.exports=r.default},{}]},{},[1]);